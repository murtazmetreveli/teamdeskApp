"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2031],{2031:(D,g,i)=>{i.r(g),i.d(g,{UploadImagesModule:()=>M});var l=i(177),c=i(6565),r=i(467),d=i(1831),t=i(6276),u=i(7157),a=i(5933),m=i(310),h=i(369),O=i(5761),C=i(4503);function v(n,f){1&n&&(t.j41(0,"ion-row",12)(1,"ion-col",13)(2,"ion-text",14),t.EFF(3,"Please upload images, then click done"),t.k0s()()())}function I(n,f){if(1&n&&(t.j41(0,"ion-col",15)(1,"div",6),t.nrm(2,"ion-img",16),t.k0s()()),2&n){const e=f.$implicit;t.R7$(2),t.Y8G("src",e.webviewPath)}}const y=function(n){return{"pt-39":n}},P=[{path:"",component:(()=>{class n{constructor(e,o,s,p,x,j,G,w){this.Platform=e,this.navCtrl=o,this.router=s,this.alertController=p,this.api=x,this.storage=j,this.route=G,this.analyticservice=w,this.photos=[],this.imageInfo=[],this.uploadImage=!1,this.headerData={title:"UPLOAD IMAGES",button_text:"Route Complete",serach:!1},this.dropOff=this.route.snapshot.queryParams.drop_off,this.headerData.sub_title="Please upload images, then click done"}ngOnInit(){var e=this;return(0,r.A)(function*(){e.imageInfo=e.dropOff?JSON.parse((yield e.storage.get("drop_off"))||"[]"):JSON.parse((yield e.storage.get("outbox"))||"[]"),e.imageInfo[0].image=[]})()}ionViewWillEnter(){var e=this;return(0,r.A)(function*(){e.imageInfo=e.dropOff?JSON.parse((yield e.storage.get("drop_off"))||"[]"):JSON.parse((yield e.storage.get("outbox"))||"[]"),e.imageInfo[0].image=[]})()}uploadPhoto(){var e=this;return(0,r.A)(function*(){e.uploadImage=!0;try{const o=yield d.i7.getPhoto({quality:80,allowEditing:!1,resultType:d.LK.Base64,webUseInput:!0,source:d.ru.Camera});o&&o.base64String?(e.photos.unshift({filepath:"soon...",webviewPath:"data:image/jpeg;base64,"+o.base64String}),e.photos.length>0&&(e.uploadImage=!1)):(e.uploadImage=!1,console.log("User canceled the photo selection process."))}catch(o){e.uploadImage=!1,console.error("Error selecting photo:",o)}})()}done(){var e=this;return(0,r.A)(function*(){e.photos?.forEach(o=>{e.imageInfo[0]?.image.push(o.webviewPath)}),e.dropOff?(yield e.storage.set("drop_off",JSON.stringify(e.imageInfo)),e.Platform.is("ios")?e.navCtrl.navigateRoot(["/enter-details"],{queryParams:{drop_off:!0}}):e.router.navigateByUrl("/enter-details?drop_off="+!0)):(yield e.storage.set("outbox",JSON.stringify(e.imageInfo)),e.Platform.is("ios")?e.navCtrl.navigateRoot(["/enter-details"]):e.router.navigateByUrl("/enter-details"))})()}presentAlert(e){var o=this;return(0,r.A)(function*(){yield(yield o.alertController.create({cssClass:"my-custom-class",message:e,buttons:["OK"],mode:"ios",backdropDismiss:!1})).present()})()}ionViewWillLeave(){}ngOnDestroy(){}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(u.OD),t.rXU(u.q9),t.rXU(c.Ix),t.rXU(a.hG),t.rXU(m.G),t.rXU(h.w),t.rXU(c.nX),t.rXU(O.L))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-upload-images"]],decls:14,vars:8,consts:[[1,"ion-no-border"],[3,"headerObj"],[1,"ion-padding","upload-image",3,"ngClass","fullscreen"],["class","upload-title",4,"ngIf"],[1,"uploads"],["size","4",1,"ion-text-center","flex",3,"click"],[1,"box"],["src","assets/icon/plus.png","onerror","this.src='assets/images/default.png'"],["size","4","class","ion-text-center flex",4,"ngFor","ngForOf"],[1,"up-btn","ion-padding"],["size","12","mode","md",1,"ion-text-center"],[3,"disabled","click"],[1,"upload-title"],["size","12",1,"ion-text-center"],[1,"text-title"],["size","4",1,"ion-text-center","flex"],[3,"src"]],template:function(o,s){1&o&&(t.j41(0,"ion-header",0),t.nrm(1,"app-sub-header",1),t.k0s(),t.j41(2,"ion-content",2)(3,"ion-grid"),t.DNE(4,v,4,0,"ion-row",3),t.j41(5,"ion-row",4)(6,"ion-col",5),t.bIt("click",function(){return s.uploadPhoto()}),t.j41(7,"div",6),t.nrm(8,"img",7),t.k0s()(),t.DNE(9,I,3,1,"ion-col",8),t.k0s(),t.j41(10,"ion-row",9)(11,"ion-col",10)(12,"ion-button",11),t.bIt("click",function(){return s.done()}),t.EFF(13,"Done "),t.k0s()()()()()),2&o&&(t.R7$(1),t.Y8G("headerObj",s.headerData),t.R7$(1),t.Y8G("ngClass",t.eq3(6,y,!s.dropOff))("fullscreen",!0),t.R7$(2),t.Y8G("ngIf",!s.dropOff),t.R7$(5),t.Y8G("ngForOf",s.photos),t.R7$(3),t.Y8G("disabled",s.uploadImage))},dependencies:[l.YU,l.Sq,l.bT,a.Jm,a.hU,a.W9,a.lO,a.eU,a.KW,a.ln,a.IO,C.R],styles:[".pt-39[_ngcontent-%COMP%]{--padding-top: 39pt}.upload-image[_ngcontent-%COMP%]   .uploads[_ngcontent-%COMP%]{margin-top:32pt}.upload-image[_ngcontent-%COMP%]   .uploads[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{width:117pt;height:117pt;display:flex;justify-content:center;align-items:center}.upload-image[_ngcontent-%COMP%]   .uploads[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:117pt;height:110pt;background:var(--ion-light-gray-color);display:flex;justify-content:center;align-items:center;border-radius:5px}.upload-image[_ngcontent-%COMP%]   .uploads[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;height:100%}.upload-image[_ngcontent-%COMP%]   .uploads[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{color:var(--ion-text-color-sky);font-size:66pt;border:1px solid;border-radius:50%}.upload-image[_ngcontent-%COMP%]   .up-btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:fixed;left:0;bottom:5%;right:0;margin:0 10px}"]})}}return n})()}];let b=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[c.iI.forChild(P),c.iI]})}}return n})();var U=i(1542);let M=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,b,a.bv,U.c]})}}return n})()}}]);