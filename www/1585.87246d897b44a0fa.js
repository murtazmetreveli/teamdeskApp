"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1585],{6013:(O,g,o)=>{o.d(g,{Gi:()=>p,vi:()=>C,Nn:()=>u});var l=o(5083),p=function(t){return t.Aztec="AZTEC",t.Codabar="CODABAR",t.Code39="CODE_39",t.Code93="CODE_93",t.Code128="CODE_128",t.DataMatrix="DATA_MATRIX",t.Ean8="EAN_8",t.Ean13="EAN_13",t.Itf="ITF",t.Pdf417="PDF_417",t.QrCode="QR_CODE",t.UpcA="UPC_A",t.UpcE="UPC_E",t}(p||{}),u=function(t){return t.Front="FRONT",t.Back="BACK",t}(u||{});const C=(0,l.F3)("BarcodeScanner",{web:()=>o.e(870).then(o.bind(o,870)).then(t=>new t.BarcodeScannerWeb)})},1585:(O,g,o)=>{o.r(g),o.d(g,{TabsPageModule:()=>M});var l=o(5933),p=o(177),f=o(4341),u=o(6565),n=o(6276);let C=(()=>{class e{constructor(){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-tabs"]],decls:13,vars:0,consts:[["slot","bottom"],["tab","tab1"],["name","log-out-outline",1,"log-out"],["tab","send-item"],["name","paper-plane-outline"],["tab","scan-collection"],["name","scan-outline"],["tab","notification"],["name","notifications-outline"],["tab","setting"],["name","settings-outline"]],template:function(s,r){1&s&&(n.j41(0,"ion-content")(1,"ion-tabs")(2,"ion-tab-bar",0)(3,"ion-tab-button",1),n.nrm(4,"ion-icon",2),n.k0s(),n.j41(5,"ion-tab-button",3),n.nrm(6,"ion-icon",4),n.k0s(),n.j41(7,"ion-tab-button",5),n.nrm(8,"ion-icon",6),n.k0s(),n.j41(9,"ion-tab-button",7),n.nrm(10,"ion-icon",8),n.k0s(),n.j41(11,"ion-tab-button",9),n.nrm(12,"ion-icon",10),n.k0s()()()())},dependencies:[l.W9,l.iq,l.Jq,l.qW,l.p4],styles:[".log-out[_ngcontent-%COMP%]{transform:rotate(270deg)}ion-tab-button[_ngcontent-%COMP%]{--color: var(--ion-color-medium);--color-selected: var(--ion-text-green)}"]})}}return e})();var t=o(467),D=o(7762),c=o(6013),v=o(8972),m=o(5083),P=o(7157),E=o(310),A=o(369),N=o(5761),y=o(4503);const L=[{path:"tabs",component:C,children:[{path:"tab3",loadChildren:()=>Promise.all([o.e(2076),o.e(4711)]).then(o.bind(o,4711)).then(e=>e.Tab1PageModule)},{path:"tab2",loadChildren:()=>Promise.all([o.e(2076),o.e(5378)]).then(o.bind(o,5378)).then(e=>e.Tab2PageModule)},{path:"tab1",loadChildren:()=>o.e(5113).then(o.bind(o,5113)).then(e=>e.Tab3PageModule)},{path:"setting",loadChildren:()=>Promise.all([o.e(2076),o.e(1952)]).then(o.bind(o,1952)).then(e=>e.SettingModule)},{path:"send-item",loadChildren:()=>Promise.all([o.e(2076),o.e(6109)]).then(o.bind(o,6109)).then(e=>e.SentItemModule)},{path:"notification",loadChildren:()=>o.e(5279).then(o.bind(o,5279)).then(e=>e.NotificationsModule)},{path:"scan-collection",loadChildren:()=>o.e(1512).then(o.bind(o,1512)).then(e=>e.BarcodeScanningRoutingModule)},{path:"drop-off",component:(()=>{class e{setOpen(i){this.isAlertOpen=i}constructor(i,s,r,a,h,d,b,x,I,T){this.Platform=i,this.navCtrl=s,this.ngZone=r,this.dialogService=a,this.api=h,this.alertController=d,this.router=b,this.loadingController=x,this.storage=I,this.analyticservice=T,this.barcodeFormat=c.Gi,this.lensFacing=c.Nn,this.formGroup=new f.gE({formats:new f.MJ([]),lensFacing:new f.MJ(c.Nn.Back),googleBarcodeScannerModuleInstallState:new f.MJ(0),googleBarcodeScannerModuleInstallProgress:new f.MJ(0)}),this.barcodes=[],this.isSupported=!1,this.isPermissionGranted=!1,this.headerData={title:"Scan Drop-Off Code"},this.isAlertOpen=!1,this.isLocationPopup=!1,this.alertButtons=["Done"]}ionViewWillEnter(){c.vi.isSupported().then(i=>{this.isSupported=i.supported}),c.vi.checkPermissions().then(i=>{this.isPermissionGranted="granted"===i.camera}),c.vi.removeAllListeners().then(()=>{c.vi.addListener("googleBarcodeScannerModuleInstallProgress",i=>{this.ngZone.run(()=>{const{state:s,progress:r}=i;this.formGroup.patchValue({googleBarcodeScannerModuleInstallState:s,googleBarcodeScannerModuleInstallProgress:r})})})}),this.installGoogleBarcodeScannerModule(),this.scan()}done(){var i=this;return(0,t.A)(function*(){i.dialogService.dismiss(),i.Platform.is("ios")?i.navCtrl.navigateRoot(["/upload-images"],{queryParams:{drop_off:!0}}):yield i.router.navigateByUrl("upload-images?drop_off="+!0)})()}getLocation(i){return new Promise((s,r)=>{this.api.getLocationPractice(i).subscribe(a=>(this.analyticservice.log({name:"get_location_status",params:{status:"true"}}),s(a[0])))})}scan(){var i=this;return(0,t.A)(function*(){i.scanerLoader=yield i.loadingController.create({cssClass:"spinner",mode:"md"}),yield i.scanerLoader.present();try{i.formGroup.get("formats");const{barcodes:r}=yield c.vi.scan();if(i.barcodes=r,i.barcodes){let a={practiceId:i.barcodes[0].displayValue};yield i.storage.set("drop_off",JSON.stringify(a)),i.analyticservice.log({name:"drop_off_event",params:a}),yield i.printCurrentPosition()}}catch(s){console.error("Error scanning barcodes:",s),i.scanerLoader?.dismiss()}})()}installGoogleBarcodeScannerModule(){return(0,t.A)(function*(){yield c.vi.installGoogleBarcodeScannerModule()})()}printCurrentPosition(){var i=this;return(0,t.A)(function*(){try{yield D.L.getCurrentPosition({timeout:1e3}).then(function(){var s=(0,t.A)(function*(r){const a=r.coords.latitude,h=r.coords.longitude;var d=JSON.parse((yield i.storage.get("drop_off"))||"[]");d instanceof Array||(d=[d]),d[0].Location=`${a}, ${h}`,yield i.storage.set("drop_off",JSON.stringify(d)),i.isAlertOpen=!0,i.scanerLoader?.dismiss()});return function(r){return s.apply(this,arguments)}}()).catch(function(){var s=(0,t.A)(function*(r){console.log(" >>>>>.. error locations <<<<<,",r),i.scanerLoader?.dismiss(),setTimeout((0,t.A)(function*(){let a="";var d;a="ios"===m.Ii.getPlatform()?"( setting > privacy & Security > Location Services)":"( setting > Location )",yield(yield i.alertController.create({header:"Enable Location Services",message:`Please enable location services in your device settings to use this feature. ${a}`,cssClass:"alertControl",mode:"ios",buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"Go to Settings",handler:(d=(0,t.A)(function*(){"ios"===m.Ii.getPlatform()?yield v.a.openUrl({url:"app-settings:"}):"android"===m.Ii.getPlatform()?yield v.a.openUrl({url:"com.android.settings"}):console.log("Web!")}),function(){return d.apply(this,arguments)})}]})).present()}),1e3)});return function(r){return s.apply(this,arguments)}}())}catch(s){console.log("error----\x3e>>>",s),i.scanerLoader?.dismiss(),"ios"!=m.Ii.getPlatform()&&(yield(yield i.alertController.create({header:"Enable Location Services",message:"Please enable location services in your device settings to use this feature.",cssClass:"alertControl",mode:"ios",buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"Go to Settings",handler:(a=(0,t.A)(function*(){"ios"===m.Ii.getPlatform()||("android"===m.Ii.getPlatform()?yield v.a.openUrl({url:"com.android.settings"}):console.log("Web!"))}),function(){return a.apply(this,arguments)})}]})).present())}var a})()}static{this.\u0275fac=function(s){return new(s||e)(n.rXU(P.OD),n.rXU(P.q9),n.rXU(n.SKi),n.rXU(l.W3),n.rXU(E.G),n.rXU(l.hG),n.rXU(u.Ix),n.rXU(l.Xi),n.rXU(A.w),n.rXU(N.L))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-drop-off"]],decls:5,vars:6,consts:[[1,"ion-padding","outbox",3,"fullscreen","scrollEvents"],[3,"headerObj"],["expand","block",3,"disabled","click"],["message","Barcode Successfully Scanned.!","mode","ios",1,"custom-alert",3,"isOpen","buttons","didDismiss","click"]],template:function(s,r){1&s&&(n.j41(0,"ion-content",0),n.nrm(1,"app-sub-header",1),n.j41(2,"ion-button",2),n.bIt("click",function(){return r.scan()}),n.EFF(3,"Scan"),n.k0s()(),n.j41(4,"ion-alert",3),n.bIt("didDismiss",function(){return r.setOpen(!1)})("click",function(){return r.done()}),n.k0s()),2&s&&(n.Y8G("fullscreen",!1)("scrollEvents",!0),n.R7$(1),n.Y8G("headerObj",r.headerData),n.R7$(1),n.Y8G("disabled",!r.isSupported),n.R7$(2),n.Y8G("isOpen",r.isAlertOpen)("buttons",r.alertButtons))},dependencies:[l.Zy,l.Jm,l.W9,y.R],styles:["ion-modal#example-modal[_ngcontent-%COMP%]{--width: fit-content;--min-width: 250px;--height: fit-content;--border-radius: 6px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#example-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}ion-list[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:10px;color:var(--ion-text-green)!important}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-search-placeholder-color)}  .close{width:98%!important;height:25pt;position:fixed;left:0;bottom:1px;right:0;--border-radius: 6.67pt;--border-color: var(--ion-text-green);--border-width: 1px}.custom-alert[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:10px;color:var(--ion-text-green)}  .alert-button-inner{color:#fff!important}  .alert-wrapper{--background: var(--ion-text-green) !important;color:#fff!important}  .custom-alert .alert-message{color:#fff!important}"]})}}return e})(),data:{title:"Drop-Off"}},{path:"",redirectTo:"/tabs/tab1",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/tab1",pathMatch:"full"}];let U=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[u.iI.forChild(L)]})}}return e})(),M=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[l.bv,p.MD,f.YN,U]})}}return e})()}}]);