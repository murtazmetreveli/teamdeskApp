"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4711],{4711:(L,f,n)=>{n.r(f),n.d(f,{Tab1PageModule:()=>U});var l=n(5933),p=n(177),y=n(4341),C=n(1307),d=n(6565),c=n(467),u=n(5083),g=n(8972),P=n(7762),O=n(6598),t=n(6276),x=n(310),I=n(5761),M=n(385);const S=function(a){return{disabled:a}},j=[{path:"",component:(()=>{class a{constructor(e,r,o,i,s){this.routes=e,this.api=r,this.router=o,this.alertController=i,this.analyticservice=s,this.logData=[],this.handlerMessage="",this.disabled=!1,this.data={},this.data1={},this.data2={},this.data3={},this.data4={},this.headerObject={main_title:"WELCOME,<br>"+this.logData.firstName+"!",title:"info@mrmccouriers.com",sub_titile:"Premium Driver Account"},this.logData=this.api.getLoginData(),this.headerObject.main_title="WELCOME, <br>"+this.logData.firstName+"!",this.headerObject.title=this.logData.email?this.logData.email:this.logData.firstName}logout(){var e=this;return(0,c.A)(function*(){yield localStorage.removeItem("auth"),e.data1={remove_authData:"Localstorage auth data remove"},e.analyticservice.log({name:"logout_localstorage_data_remove",params:e.data1}),yield localStorage.removeItem("chunk"),e.data2={remove_chunk:"Localstorage chunk data remove"},e.analyticservice.log({name:"logout_chunk_data_remove",params:e.data2}),yield localStorage.clear(),e.routes.navigate(["/login"]),e.data={tab_change:"tab change tabs/setting to login"},e.analyticservice.log({name:"logout_tab_change",params:e.data})})()}beginRoute(){var e=this;return(0,c.A)(function*(){if(e.disabled=!0,(yield O.l.getStatus()).connected)try{yield P.L.getCurrentPosition({timeout:1e3}).then(function(){var o=(0,c.A)(function*(i){e.location=`${i.coords.latitude}, ${i.coords.longitude}`,e.authData=JSON.parse(localStorage.getItem("auth")||"[]");const m={f_41219065:(new Date).toISOString(),f_41219075:"In Progress",f_41238381:e.location?.toString()};e.api.postRouteComplete(m).subscribe(function(){var v=(0,c.A)(function*(b){b&&(e.disabled=!1,yield localStorage.setItem("begin_route","true"),e.analyticservice.log({name:"localstorage_begin_route_data_set",params:{status:"true"}}),e.router.navigateByUrl("/tabs/scan-collection"),e.analyticservice.log({name:"begin_route_tab_change",params:{tab_change:"tab change from tab1 to tabs/scan-collection"}}))});return function(b){return v.apply(this,arguments)}}())});return function(i){return o.apply(this,arguments)}}()).catch(function(){var o=(0,c.A)(function*(i){e.disabled=!1,setTimeout((0,c.A)(function*(){let s="";var m;s="ios"===u.Ii.getPlatform()?"( setting > privacy & Security > Location Services)":"( setting > Location )",yield(yield e.alertController.create({header:"Enable Location Services",message:`Please enable location services in your device settings to use this feature. ${s}`,cssClass:"alertControl",mode:"ios",buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"Go to Settings",handler:(m=(0,c.A)(function*(){"ios"===u.Ii.getPlatform()?yield g.a.openUrl({url:"app-settings:"}):"android"===u.Ii.getPlatform()?yield g.a.openUrl({url:"com.android.settings"}):console.log("Web!")}),function(){return m.apply(this,arguments)})}]})).present()}),1e3)});return function(i){return o.apply(this,arguments)}}())}catch{e.disabled=!1,"ios"!=u.Ii.getPlatform()&&(yield(yield e.alertController.create({header:"Enable Location Services",message:"Please enable location services in your device settings to use this feature.",cssClass:"alertControl",mode:"ios",buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"Go to Settings",handler:(s=(0,c.A)(function*(){"ios"===u.Ii.getPlatform()||("android"===u.Ii.getPlatform()?yield g.a.openUrl({url:"com.android.settings"}):console.log("Web!"))}),function(){return s.apply(this,arguments)})}]})).present())}else e.disabled=!1,yield(yield e.alertController.create({header:"Check Your Internet Connection!",cssClass:"alertControl",mode:"ios",buttons:[{text:"OK",role:"cancel"}]})).present();var s})()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(d.Ix),t.rXU(x.G),t.rXU(d.Ix),t.rXU(l.hG),t.rXU(I.L))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-tab1"]],decls:17,vars:5,consts:[[1,"ion-padding",3,"fullscreen"],[3,"headerObj"],[1,""],["size","12",1,"center-section","ion-text-center"],["size","12",1,"flex"],[1,"route","ion-text-center",3,"ngClass","click"],["size","12",1,"ion-text-center"],["fill","outline",1,"btn-out-liner","btn-login",3,"click"]],template:function(r,o){1&r&&(t.j41(0,"ion-content",0),t.nrm(1,"app-header",1),t.j41(2,"ion-grid")(3,"ion-row",2)(4,"ion-col",3)(5,"ion-text"),t.EFF(6,"Click BEGIN ROUTE to scan the first QR code of your journey"),t.k0s()(),t.j41(7,"ion-col",4)(8,"div",5),t.bIt("click",function(){return o.beginRoute()}),t.j41(9,"ion-text"),t.EFF(10,"BEGIN"),t.nrm(11,"br"),t.EFF(12,"ROUTE"),t.k0s()()(),t.j41(13,"ion-col",6)(14,"ion-button",7),t.bIt("click",function(){return o.logout()}),t.EFF(15," Log Out "),t.k0s()()(),t.nrm(16,"ion-row"),t.k0s()()),2&r&&(t.Y8G("fullscreen",!1),t.R7$(1),t.Y8G("headerObj",o.headerObject),t.R7$(7),t.Y8G("ngClass",t.eq3(3,S,o.disabled)))},dependencies:[l.Jm,l.hU,l.W9,l.lO,l.ln,l.IO,p.YU,M.l],styles:["ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:0}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.center-section[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:49px;text-align:center}.center-section[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:16.67pt;color:var(--ion-font-gray-dark)}.flex[_ngcontent-%COMP%]{display:flex;justify-content:center}.route[_ngcontent-%COMP%]{border-radius:50%;width:198px;height:198px;background:var(--ion-text-green);display:flex;justify-content:center;align-items:center}.route[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:27.33pt;color:var(--ion-color-primary-contrast)}.btn-out-liner[_ngcontent-%COMP%]{margin-top:49px;--color: var(--ion-text-green) !important}ion-button.btn-out-liner[_ngcontent-%COMP%]{--border-color: var(--ion-text-green);--color: var(--ion-text-green);--background: transparent;border:none!important}.btn-login[_ngcontent-%COMP%]{border:none!important}"]})}}return a})()}];let T=(()=>{class a{static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[d.iI.forChild(j),d.iI]})}}return a})();var E=n(6164);let U=(()=>{class a{static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[l.bv,p.MD,y.YN,C.S,T,E.G]})}}return a})()}}]);