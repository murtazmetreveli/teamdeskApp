"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5378],{5378:(j,r,a)=>{a.r(r),a.d(r,{Tab2PageModule:()=>y});var c=a(5933),l=a(177),d=a(4341),h=a(1307),s=a(6565),p=a(467),u=a(5528),t=a(6276),m=a(310),C=a(5761),P=a(4503);function f(o,I){if(1&o&&(t.j41(0,"ion-row",8)(1,"ion-col",9)(2,"h2",10),t.EFF(3,"Collection Point: "),t.k0s()(),t.j41(4,"ion-col",9)(5,"span",10),t.EFF(6),t.k0s()(),t.j41(7,"ion-col",9)(8,"h2",10),t.EFF(9,"Driver: "),t.k0s()(),t.j41(10,"ion-col",9)(11,"span",10),t.EFF(12),t.k0s()(),t.j41(13,"ion-col",9)(14,"h2",10),t.EFF(15,"Collection Status: "),t.k0s()(),t.j41(16,"ion-col",9)(17,"span",10),t.EFF(18),t.k0s()(),t.j41(19,"ion-col",9)(20,"h2",10),t.EFF(21,"Date & Time: "),t.k0s()(),t.j41(22,"ion-col",9)(23,"span",10),t.EFF(24),t.k0s()(),t.j41(25,"ion-col",9)(26,"h2",10),t.EFF(27,"Location:"),t.k0s()(),t.j41(28,"ion-col",9)(29,"span",10),t.EFF(30),t.k0s()(),t.j41(31,"ion-col",9)(32,"h2",10),t.EFF(33,"Details:"),t.k0s()(),t.j41(34,"ion-col",9)(35,"span",10),t.EFF(36),t.k0s()()()),2&o){const n=t.XpG();t.R7$(6),t.JRh(n.PracticeName),t.R7$(6),t.JRh(n.allData.Driver||""),t.R7$(6),t.JRh(n.allData.Status||""),t.R7$(6),t.JRh(n.allData["Date/Time Collected"]||""),t.R7$(6),t.JRh(n.allData.Location||""),t.R7$(6),t.JRh(n.allData.Details||"")}}const O=function(o){return{"background-image":o}};function M(o,I){if(1&o){const n=t.RV6();t.j41(0,"ion-col",11)(1,"div",12),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.openImageModal(i.photo))}),t.k0s()()}if(2&o){const n=t.XpG();t.R7$(1),t.Y8G("ngStyle",t.eq3(1,O,"url("+n.photo+")"))}}const v=[{path:"",component:(()=>{class o{constructor(n,e,i,g){this.router=n,this.api=e,this.modalController=i,this.analyticservice=g,this.headerData={title:"COLLECTION INFO",button_text:"Route Complete",serach:!1},this.auth=localStorage.getItem("auth")}ionViewWillEnter(){this.collectionId=localStorage.getItem("collectionId"),this.allCollectionData(),this.getPhoto()}done(){localStorage.removeItem("collectionId"),localStorage.removeItem("outbox"),"/tabs/send-item"!==this.router.url&&this.router.navigateByUrl("/tabs/send-item")}routeComplete(){this.router.navigateByUrl("/tabs/tab1")}allCollectionData(){this.api.getCollectionView(this.collectionId).subscribe({next:n=>{console.log("data",n),this.allData=n[0],this.getLocation(this.allData["Barcode Practice"]),this.analyticservice.log({name:"get_all_collection_data_status",params:{status:"true"}})},error:n=>{this.analyticservice.log({name:"get_all_collection_data_status",params:{status:"false"}}),console.log("Error fetching data:",n)}})}getPhoto(){this.api.getPhotoAttachment(this.collectionId).subscribe(n=>{this.photo=`https://app.mrmccouriers.com/secure/api/v2/84171/5608DA1601CE448E85AB45ABC28F27BF/Collection/photo/attachment?guid=${n[0].guid}&id=${this.collectionId}`,this.analyticservice.log({name:"get_photo_attchment_status",params:{status:"true"}})})}getLocation(n){this.api.getLocationPractice(n).subscribe(e=>{this.analyticservice.log({name:"get_location_status",params:{status:"true"}}),this.PracticeName=e[0]["Practice Name"]})}openImageModal(n){var e=this;return(0,p.A)(function*(){return yield(yield e.modalController.create({component:u.A,componentProps:{imageUrl:n,cssClass:"example-modal",backdropBreakpoint:"0.5",showBackdrop:!1}})).present()})()}static{this.\u0275fac=function(e){return new(e||o)(t.rXU(s.Ix),t.rXU(m.G),t.rXU(c.W3),t.rXU(C.L))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-tab2"]],decls:13,vars:5,consts:[[1,"ion-padding","upload",3,"fullscreen"],[3,"headerObj"],[1,"title"],["size","12",1,"ion-text-center"],["class","collection-details",4,"ngIf"],[1,"upload-section"],["class","flex ","size","12",4,"ngIf"],[1,"done",3,"click"],[1,"collection-details"],["size","6"],[1,"text-title"],["size","12",1,"flex"],[1,"route",3,"ngStyle","click"]],template:function(e,i){1&e&&(t.j41(0,"ion-content",0),t.nrm(1,"app-sub-header",1),t.j41(2,"ion-grid")(3,"ion-row",2)(4,"ion-col",3)(5,"h5"),t.EFF(6),t.k0s()()(),t.DNE(7,f,37,6,"ion-row",4),t.j41(8,"ion-row",5),t.DNE(9,M,2,3,"ion-col",6),t.j41(10,"ion-col",3)(11,"ion-button",7),t.bIt("click",function(){return i.done()}),t.EFF(12,"Done"),t.k0s()()()()()),2&e&&(t.Y8G("fullscreen",!1),t.R7$(1),t.Y8G("headerObj",i.headerData),t.R7$(5),t.SpI("COLLECTION ID:",i.collectionId,""),t.R7$(1),t.Y8G("ngIf",i.allData),t.R7$(2),t.Y8G("ngIf",i.photo))},dependencies:[c.Jm,c.hU,c.W9,c.lO,c.ln,l.bT,l.B3,P.R],styles:["ion-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding-top:1.5rem;color:var(--ion-text-green)}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{margin-top:-30px}ion-content[_ngcontent-%COMP%]   .collection-details[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.85rem;margin:0;padding:0}ion-content[_ngcontent-%COMP%]   .collection-details[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--ion-font-gray-dark);font-size:.85rem}ion-content[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]{margin-top:10%}ion-content[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-font-gray-dark);height:55pt;width:55pt}ion-content[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex;justify-content:center}ion-content[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .route[_ngcontent-%COMP%]{border-radius:50%;width:-moz-fit-content;width:fit-content;background:var(--ion-light-gray);height:198px;width:198px;white-space:pre;display:flex;justify-content:center;align-items:center;flex-direction:column;overflow:hidden;background-repeat:no-repeat;background-position:center center;background-size:cover}ion-content[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .route[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:cover}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:50%!important}ion-content[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]{margin-top:30px}"]})}}return o})()}];let F=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[s.iI.forChild(v),s.iI]})}}return o})();var b=a(1542);let y=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[c.bv,l.MD,d.YN,h.S,F,b.c]})}}return o})()}}]);